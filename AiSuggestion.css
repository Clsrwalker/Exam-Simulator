/* ========================
   ğŸŒ 0) å…¨å±€/å¸ƒå±€è®¾ç½®
======================== */

/* è‹¥ä½ æƒ³è®©æ•´ä¸ªé¡µé¢éƒ½ç»Ÿä¸€ç”¨ box-sizing:border-boxï¼Œå¯å¯ç”¨ï¼š */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* 
  page-wrapperï¼šä¸€ä¸ªæœ€å¤–å±‚çš„å®¹å™¨ï¼Œå†…å«å¯¼èˆªã€aiSuggestionã€ä¾§è¾¹æ ç­‰ 
  flex-flow: row nowrap => æ¨ªå‘æ’åˆ—ï¼Œä¸æ¢è¡Œ
*/
.page-wrapper {
  display: flex;
  flex-flow: row nowrap;
  width: 100%;
  min-height: 100vh; /* æ’‘æ»¡è§†çª—é«˜åº¦ï¼Œè§†éœ€æ±‚å¯æ”¹ */
}

/* å¯¼èˆªæ ç¤ºä¾‹ï¼šå·¦ä¾§å›ºå®šå®½åº¦ */
.main-nav {
  flex: 0 0 220px;    /* å›ºå®š220pxå®½ */
  min-width: 220px;
  border-right: 1px solid #ddd;
  background: #ebe7e8; /* è§†éœ€æ±‚å¯æ”¹ */
  /* å…¶ä»–å¯¼èˆªæ ·å¼ã€padding ç­‰ */
}

/* æ·±è‰²æ¨¡å¼ä¸‹ï¼Œå¯¹å¯¼èˆªæ çš„è¾¹æ¡†å¯è°ƒæ•´ */
body.myDash-dark .main-nav {
  border-right: 1px solid #666;
  background: #2a2a2a; /* ä¸ .aiSuggestion-container çš„æ·±è‰²æ¨¡å¼ä¸€è‡´ */
}

/* 
  ä¸­é—´ä¸»ä½“ aiSuggestion-container 
  flex: 1 1 0 => ä¼šåˆ†é…å‰©ä½™ç©ºé—´ï¼Œå¯æ”¶ç¼©å¯ä¼¸å±•
  min-width: 300px => é˜²æ­¢è¿‡åº¦ç¼©å°
*/
.aiSuggestion-container {
  flex: 1 1 0;
  min-width: 300px;
  box-sizing: border-box; /* ç¡®ä¿padding/borderä¸ä¼šå½±å“æœ€ç»ˆå®½åº¦ */
  /* ä¸‹é¢æ˜¯ä½ åŸæœ¬ .aiSuggestion-container çš„æ ·å¼ï¼Œä¹Ÿåˆå¹¶è¿›æ¥ */
  position: relative;
  display: flex;
  flex-direction: column;
  background: #ebe7e8; /* æµ…è‰²èƒŒæ™¯ */
  border: 1px solid #ddd;
  margin: 1rem 0;
  transition: all 0.3s ease;
  min-height: 600px; /* ç¡®ä¿åº•éƒ¨æœ‰è¶³å¤Ÿç©ºé—´ */
  color: #333; /* é»˜è®¤å­—ä½“é¢œè‰² */
  padding: 1rem;
}

/* æ·±è‰²æ¨¡å¼ä¸‹ï¼ŒaiSuggestion-container çš„èƒŒæ™¯/è¾¹æ¡† */
body.myDash-dark .aiSuggestion-container {
  background: #2a2a2a;
  border: 1px solid #444;
  color: #ddd;
}

/* 
  ä¾§è¾¹æ ï¼ˆå³ä¾§æŠ¥å‘Šç­‰ï¼‰ 
  åŒæ · flex: 1 => ä¸ä¸­é—´åŒºåŸŸä¸€èµ·åˆ†é…å‰©ä½™ç©ºé—´
*/
.aiSuggestion-reportSide {
  
  border-left: 1px solid #ddd;
  color: #333;
  box-sizing: border-box;
  /* è‹¥è¿˜éœ€è¦å†…éƒ¨æ ·å¼ï¼Œå¯è‡ªè¡Œæ·»åŠ  */
}
body.myDash-dark .aiSuggestion-reportSide {
  border-left: 1px solid #666;
  color: #ddd;
}

/* ========================
   1) å¤´éƒ¨ã€æ®µåˆ‡æ¢ç­‰
======================== */
.aiSuggestion-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

/* åˆ†æ®µåˆ‡æ¢ (Segmented Control) */
.segmented-control {
  display: inline-flex;
  border-radius: 999px;
  background: #ebe7e8;
  padding: 4px;
}

.segmented-btn {
  border: none;
  outline: none;
  background: transparent;
  padding: 6px 12px;
  font-size: 14px;
  border-radius: 999px;
  cursor: pointer;
  color: #333;
}
.segmented-btn:hover {
  background: rgba(0, 0, 0, 0.1);
}
.segmented-btn.active {
  background: #ebe7e8;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
  color: #007aff;
}

/* ========================
   2) æŒ‰é’®æ ·å¼ (Light Mode)
======================== */
.aiSuggestion-container .genAiBtn {
  cursor: pointer;
  font-size: 14px;
  padding: 10px 16px;
  background: #f3eeef; /* æµ…è‰²èƒŒæ™¯ */
  color: #333; /* æ·±è‰²æ–‡å­— */
  border: 2px solid #ddd;
  border-radius: 8px;
  font-weight: bold;
  transition: all 0.3s ease-in-out;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.aiSuggestion-container .genAiBtn:hover {
  background: #e2e6ea;
  border-color: #bbb;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
}
.aiSuggestion-container .genAiBtn:active {
  background: #d6d9dc;
  box-shadow: inset 0 3px 6px rgba(0, 0, 0, 0.2);
}
.aiSuggestion-container .genAiBtn:disabled {
  background: #f1f3f5;
  color: #aaa;
  border-color: #ddd;
  cursor: not-allowed;
  box-shadow: none;
}
.aiSuggestion-container .genAiBtn:disabled::after {
  content: "â³"; /* åŠ è½½å›¾æ ‡ */
  margin-left: 8px;
  font-size: 14px;
  animation: loadingDots 1.5s infinite;
}

/* åŠ è½½åŠ¨ç”» */
@keyframes loadingDots {
  0% { opacity: 0.3; }
  50% { opacity: 1; }
  100% { opacity: 0.3; }
}

/* ========================
   3) æ·±è‰²æ¨¡å¼ (Dark Mode)
======================== */
/* æŒ‰é’®åœ¨ Dark Mode ä¸‹çš„é€‚é… */
body.myDash-dark .aiSuggestion-container .genAiBtn {
  background: #555;
  border: 1px solid #777;
  color: #eee;
}
body.myDash-dark .aiSuggestion-container .genAiBtn:hover {
  background: #777;
}

/* ========================
   4) ç»Ÿè®¡å›¾è¡¨
======================== */
.chart-wrapper {
  position: relative;
  width: 700px;
  height: 300px;
  border: 1px solid #242222;
  margin-top: 1rem;
}
.chart-wrapper canvas {
  width: 700px;
  height: 300px;
}
/* æ‚¬æµ®æç¤º Label */
.chart-label {
  position: absolute;
  display: none;
  background: rgba(255, 255, 255, 0.8);
  color: #333;
  padding: 0.3em;
  pointer-events: none;
  font-size: 14px;
  border-radius: 3px;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
}

/* ========================
   5) æŠ¥å‘Šä¾§è¾¹æ  
======================== */
/* è§ä¸Šé¢ .aiSuggestion-reportSide & dark mode */

/* ========================
   6) Tabs / Essay report 
======================== */
/* =============== Tabs æ ·å¼ (Light Mode) =============== */
/* =============== Tabs æ ·å¼ (Light Mode) =============== */
.aiSuggestion-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

/* ä½¿ä¸¤ä¸ªæŒ‰é’®å‘ˆç°â€œç›’å­â€é£æ ¼ */
.aiSuggestion-tabs button {
  /* è®©å®ƒçœ‹èµ·æ¥æ›´åƒä¸€ä¸ªæ–¹å—/ç›’å­ */
  width: 33%;            /* å›ºå®šå®½åº¦ï¼Œå¯æŒ‰éœ€è°ƒæ•´ */
  height: 10%;           /* å›ºå®šé«˜åº¦ï¼Œå¯æŒ‰éœ€è°ƒæ•´ */
  
  display: flex;           /* è®©æ–‡å­—å‚ç›´å±…ä¸­ */
  align-items: center;     
  justify-content: center;
  text-align: center;      /* æ–‡æœ¬å±…ä¸­ */

  cursor: pointer;
  font-size: 16px;         /* å­—ä½“ç•¥å¤§ */
  font-weight: bold;

  /* åŸæœ‰çš„èƒŒæ™¯ã€è¾¹æ¡†ã€é˜´å½±ã€åœ†è§’ç­‰åŸºæœ¬ä¿æŒ */
  background: #f3eeef;     
  color: #333; 
  border: 2px solid #ddd;
  border-radius: 8px;
  transition: all 0.3s ease-in-out;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  outline: none;
}

/* æ‚¬åœæ—¶ */
.aiSuggestion-tabs button:hover {
  background: #e2e6ea;
  border-color: #b6dbf5;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
}

/* æŒ‰ä¸‹æ—¶ */
.aiSuggestion-tabs button:active {
  background: #d6d9dc;
  box-shadow: inset 0 3px 6px rgba(0, 0, 0, 0.2);
}

/* é€‰ä¸­çŠ¶æ€ */
.aiSuggestion-tabs button.active {
  background: #ebe7e8;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
  color: #007aff;
}

/* =============== Tabs æ ·å¼ (Dark Mode) =============== */
body.myDash-dark .aiSuggestion-tabs button {
  background: #555;        
  color: #eee;             
  border: 1px solid #777;
  box-shadow: none;        
}

body.myDash-dark .aiSuggestion-tabs button:hover {
  background: #666;
  border-color: #888;
}

body.myDash-dark .aiSuggestion-tabs button:active {
  background: #444;
  box-shadow: inset 0 3px 6px rgba(0, 0, 0, 0.5);
}

body.myDash-dark .aiSuggestion-tabs button.active {
  background: #444;
  border-color: #888;
}
